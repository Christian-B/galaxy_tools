<tool id="brenninc_guitest" name="Test for the Galaxy GUI" version="0.2" hidden="false" workflow_compatible="true">
	<description>This is the description of the tool</description>
	<version_command>python guitest.py --version</version_command>
	<command interpreter="python">guitest.py 
	    --input $input 
	    --output '$output'
	    --tool_directory $__tool_directory__
	    --new_file_path $__new_file_path__
	    --tool_data_path $__tool_data_path__
	    --root_dir $__root_dir__
	    --datatypes_config $__datatypes_config__
	    --user_id $__user_id__
	    --user_email $__user_email__
	    
	    #if $extra_info.option=="Name"
	        --name=$extra_info.name
	    #elif $extra_info.option=="Id"
	        --id=$extra_info.id
	    #end if    
	    <!-- More meta data -->
	</command>
	<inputs>
	    <!-- repeat -->
        <conditional name="extra_info">
            <param name="option" type="select" label="What Extra info shall I ask for">
                <option value="None" selected="true">Don't ask for extra info</option>
                <option value="Name">Ask for the name</option>
                <option value="Id">Ask for the id</option>
            </param>
            <when value="Name">
                <param name="name" size="4" type="text" label="So what is your name then" />
            </when>
            <when value="Id">
                <param name="id" size="4" type="text" label="Ok So what is your Id Number" />
            </when>
        </conditional>
		<param format="txt" name="input" type="data" label="File to be Read" help="Data file" />
	</inputs>
	<outputs>
		<data format="txt" name="output" metadata_source="input"/>
	</outputs>
    <stdio>
        <exit_code range="1:255"   level="fatal"   description="Oops an error" />
    </stdio>

	<help>
	    User help section
	</help>    
	<tests>
      <test>
        <param name="option" value="None" />
        <param name="input" value="test_in.txt"/>
        <output name="output" file="test_out.txt"/>
      </test>  
      <test>
        <param name="option" value="Name" />
        <param name="name" value="Christian" />
        <param name="input" value="test_in.txt"/>
        <output name="output" file="test_out.txt"/>
      </test>  
      <test>
        <param name="option" value="Id" />
        <param name="id" value="1234" />
        <param name="input" value="test_in.txt"/>
        <output name="output" file="test_out.txt"/>
      </test>  
    </tests>

</tool>
